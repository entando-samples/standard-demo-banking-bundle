{"version":3,"sources":["assets/Framecredit-card.png","i18n/locales/index.js","i18n/i18n.js","auth/KeycloakContext.js","auth/KeycloakViews.js","components/__types__/keycloak.js","components/__types__/seedscard.js","components/SeedscardDetails.js","components/common/Notification.js","api/constants.js","api/seedscard.js","components/SeedscardDetailsContainer.js","helpers/widgetEvents.js","custom-elements/widgetEventTypes.js","custom-elements/SeedscardDetailsElement.js"],"names":["module","exports","en","resources","Object","keys","locales","reduce","acc","lang","translation","i18next","use","initReactI18next","init","fallbackLng","interpolation","escapeValue","KeycloakContext","React","createContext","AuthenticatedView","PropTypes","shape","initialized","bool","authenticated","children","keycloak","UnauthenticatedView","id","number","accountNumber","string","balance","userId","SeedscardDetails","classes","t","account","onDetail","cardname","header","className","SeedsCard__header","alt","SeedsCard__icon","src","seedscardIcon","SeedsCard__title","widgetNamePlaceholder","replace","c","toUpperCase","SeedsCard__value","substring","length","SeedsCard__action","onClick","accountID","SeedsCard","SeedsCard__balance","toString","SeedsCard__balanceCaption","rewardPoints","SeedsCard__balanceReward","SeedsCard__balanceRewardValue","defaultProps","compose","withStyles","display","height","background","padding","boxShadow","borderRadius","transition","alignItems","position","backgroundColor","fontWeight","fontSize","color","margin","lineHeight","right","top","withTheme","withTranslation","Alert","props","elevation","variant","autoHideDurations","success","error","info","Notification","passedStatus","status","message","onClose","isOpen","console","log","INFO","autoHideDuration","Snackbar","open","severity","SUCCESS","ERROR","setState","DOMAIN","process","defaultOptions","token","window","entando","headers","Headers","Authorization","executeFetch","params","url","options","fetch","method","then","response","Promise","resolve","reject","Error","statusText","json","SeedscardDetailsContainer","state","loading","notificationStatus","notificationMessage","theme","createMuiTheme","closeNotification","bind","fetchData","this","firstCall","prevProps","changedAuth","onError","userID","idTokenParsed","preferred_username","endsWith","getSeedscardByUserID","catch","e","finally","ThemeProvider","Component","withKeycloak","WrappedComponent","Consumer","value","createWidgetEventPublisher","eventType","payload","eventId","widgetEvent","CustomEvent","detail","dispatchEvent","publishWidgetEvent","OUTPUT_EVENT_TYPES","transactionsDetail","getKeycloakInstance","ATTRIBUTES","SeedscardDetailsElement","args","mountPoint","unsubscribeFromKeycloakEvent","oldValue","newValue","values","includes","render","document","createElement","appendChild","eventHandler","locale","getAttribute","changeLanguage","addEventListener","removeEventListener","ReactDOM","Provider","customEvent","details","HTMLElement","customElements","get","define"],"mappings":"snBAAAA,EAAOC,QAAU,0uB,uGCEF,GACbC,G,qOCGF,IAAMC,EAAYC,OAAOC,KAAKC,GAASC,QACrC,SAACC,EAAKC,GAAN,O,yVAAA,IAAqBD,EAArB,eAA2BC,EAAO,CAAEC,YAAaJ,EAAQG,QACzD,IAGFE,IAAQC,IAAIC,KAAkBC,KAAK,CACjCC,YAAa,KACbZ,YACAa,cAAe,CACbC,aAAa,K,qFCbJC,EAAkBC,IAAMC,cAAc,M,6CCFtCC,GCEQC,IAAUC,MAAM,CACnCC,YAAaF,IAAUG,KACvBC,cAAeJ,IAAUG,ODJM,SAAC,GAA4B,IAA1BE,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SAE5C,OADsBA,EAASJ,aAAeI,EAASF,cAChCC,EAAW,OAGvBE,EAAsB,SAAC,GAA4B,IAA1BF,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SAE9C,OADsBA,EAASJ,aAAeI,EAASF,cACpB,KAAXC,G,kBELJL,IAAUC,MAAM,CACpCO,GAAIR,IAAUS,OAEdC,cAAeV,IAAUW,OACzBC,QAASZ,IAAUS,OACnBI,OAAQb,IAAUW,S,gBCoEdG,EAAmB,SAAC,GAAiD,IAA/CC,EAA8C,EAA9CA,QAASC,EAAqC,EAArCA,EAAGC,EAAkC,EAAlCA,QAASC,EAAyB,EAAzBA,SAAUC,EAAe,EAAfA,SACnDC,EACJ,yBAAKC,UAAWN,EAAQO,mBACtB,yBAAKC,IAAI,wBAAwBF,UAAWN,EAAQS,gBAAiBC,IAAKC,MAC1E,yBAAKL,UAAWN,EAAQY,kBACrBX,EAAE,oBAAqB,CACtBY,sBAAuBT,EAASU,QAAQ,OAAO,SAAAC,GAAC,OAAIA,EAAEC,oBAG1D,yBAAKV,UAAWN,EAAQiB,kBAAxB,MAEGf,GACCA,EAAQT,IACRS,EAAQP,cAAcuB,UACpBhB,EAAQP,cAAcwB,OAAS,EAC/BjB,EAAQP,cAAcwB,SAG5B,yBAAKb,UAAWN,EAAQoB,mBACtB,uBAAGd,UAAU,wBAKnB,OAEE,yBACEe,QAASnB,GAAWA,EAAQT,GAAK,kBAAMU,EAAS,CAAEC,WAAUkB,UAAWpB,EAAQT,MAAQ,MAEvF,yBAAKa,UAAWN,EAAQuB,WACrBrB,GAAWA,EAAQT,GAClB,oCACGY,EACD,uBAAGC,UAAWN,EAAQwB,oBAAtB,IACItB,EAAQL,QAAQ4B,WAAWX,QAAQ,iCAAkC,MAEzE,uBAAGR,UAAWN,EAAQ0B,2BAAtB,WACCxB,EAAQyB,cACP,uBAAGrB,UAAWN,EAAQ4B,0BAAtB,iBACiB,IACf,0BAAMtB,UAAWN,EAAQ6B,+BACtB3B,EAAQyB,gBAMjB,oCACGtB,EACD,uBAAGC,UAAWN,EAAQ0B,2BAAtB,oBACyBtB,EADzB,gBA6BZL,EAAiB+B,aAAe,CAC9B5B,QAAS,MAGI6B,kBACbC,aAtJa,iBAAO,CACpBT,UAAW,CACTU,QAAS,mBACTC,OAAQ,QACRC,WAAY,UACZC,QAAS,MACTC,UAAW,+BACXC,aAAc,OACdC,WAAY,YACZ,UAAW,CACTL,OAAQ,QACRC,WAAY,YACZE,UAAW,mBACXD,QAAS,MACTE,aAAc,SAGlB7B,gBAAiB,GACjBF,kBAAmB,CACjB0B,QAAS,OACTO,WAAY,WACZC,SAAU,WACV,MAAO,CACLC,gBAAiB,2BAGrB9B,iBAAkB,CAChB+B,WAAY,MACZC,SAAU,OACVC,MAAO,UACPC,OAAQ,SACRC,WAAY,QAEd9B,iBAAkB,CAChB2B,SAAU,OACVC,MAAO,UACPE,WAAY,QAEd3B,kBAAmB,CACjBqB,SAAU,WACVO,MAAO,IACPC,IAAK,MACLJ,MAAO,WAETrB,mBAAoB,CAClBmB,WAAY,MACZC,SAAU,OACVC,MAAO,UACPC,OAAQ,aAEVpB,0BAA2B,CACzBiB,WAAY,MACZC,SAAU,OACVC,MAAO,WAETjB,yBAA0B,CACxBe,WAAY,MACZC,SAAU,OACVC,MAAO,WAEThB,8BAA+B,CAC7Bc,WAAY,MACZC,SAAU,OACVC,MAAO,cAuFU,CAAEK,WAAW,IAChCC,cAFapB,CAGbhC,G,2BCzJF,SAASqD,EAAMC,GACb,OAAO,kBAAC,IAAD,eAAUC,UAAW,EAAGC,QAAQ,UAAaF,IAGtD,IAEMG,EAAoB,CACxBC,QAAS,IACTC,MAAO,KACPC,KAAM,KAGFC,EAAe,SAAfA,EAAgB,GAAgD,IAAtCC,EAAqC,EAA7CC,OAAsBC,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,QAC/CC,IAAWF,EAEjBG,QAAQC,IAAIF,GACZC,QAAQC,IAAIJ,GAEZ,IAAMD,EAASD,GAAgBD,EAAaQ,KACtCC,EAAmBb,EAAkBM,GAE3C,OACE,kBAACQ,EAAA,EAAD,CAAUC,KAAMN,EAAQI,iBAAkBA,EAAkBL,QAASA,GACnE,kBAAC,EAAD,CAAOA,QAASA,EAASQ,SAAUV,GAChCC,KAMTH,EAAaa,QAAU,UACvBb,EAAac,MAAQ,QASrBd,EAAa9B,aAAe,CAC1BiC,QAAS,KACTD,OAVFF,EAAaQ,KAAO,OAWlBJ,QAAS,kBAAM,EAAKW,SAAS,CAAEJ,MAAM,MAGxBvC,kBA1CA,GA0CmB,CAAEkB,WAAW,GAAhClB,CAAwC4B,GCpD1CgB,EAGPC,I,yjBCFN,IAYMC,EAAiB,WACrB,IAAMC,EAXJC,QACAA,OAAOC,SACPD,OAAOC,QAAQ1F,UACfyF,OAAOC,QAAQ1F,SAASF,cAEjB2F,OAAOC,QAAQ1F,SAASwF,MAE1B,GAMP,MAAO,CACLG,QAAS,IAAIC,QAAQ,CACnBC,cAAc,UAAD,OAAYL,GACzB,eAAgB,uBAKhBM,EAAe,WAAkB,IAAjBC,EAAgB,uDAAP,GACrBC,EAAiBD,EAAjBC,IAAKC,EAAYF,EAAZE,QACb,OAAOC,MAAMF,EAAD,GACVG,OAAQ,OACLZ,IAFO,GAGPU,IAEFG,MAAK,SAAAC,GAAQ,OACZA,EAAS9B,QAAU,KAAO8B,EAAS9B,OAAS,IACxC+B,QAAQC,QAAQF,GAChBC,QAAQE,OAAO,IAAIC,MAAMJ,EAASK,YAAcL,EAAS9B,YAE9D6B,MAAK,SAAAC,GAAQ,OAAIA,EAASM,WCxBzBC,E,YACJ,WAAY9C,GAAQ,IAAD,8BACjB,4CAAMA,KAED+C,MAAQ,CACXC,SAAS,EACTnG,QAAS,KACToG,mBAAoB,KACpBC,oBAAqB,MAGvB,EAAKC,MAAQC,cACb,EAAKC,kBAAoB,EAAKA,kBAAkBC,KAAvB,gBACzB,EAAKC,UAAY,EAAKA,UAAUD,KAAf,gBAZA,E,iFAeE,IACXpH,EAAasH,KAAKxD,MAAlB9D,SACcA,EAASJ,aAAeI,EAASF,eAGrDwH,KAAKD,UAAU,CAAEE,WAAW,M,yCAIbC,GAAY,IACrBxH,EAAasH,KAAKxD,MAAlB9D,SACFF,EAAgBE,EAASJ,aAAeI,EAASF,cAEjD2H,EAAcD,EAAUxH,SAASF,gBAAkBA,EAErDA,GAAiB2H,GACnBH,KAAKD,UAAU,CAAEE,WAAW,M,mCAIN,IAAD,OAAbA,EAAa,EAAbA,UAAa,EAC8BD,KAAKxD,MAAlD4D,EADe,EACfA,QAAShH,EADM,EACNA,EAAGV,EADG,EACHA,SAAUa,EADP,EACOA,SAAUD,EADjB,EACiBA,SAClCd,EAAgBE,EAASJ,aAAeI,EAASF,cACjD6H,EAAS3H,EAAS4H,cAAcC,mBAElC/H,IACE6H,EDP0B,WAAkB,IAAjB5B,EAAgB,uDAAP,GACpC4B,EAA8B5B,EAA9B4B,OAAQ1B,EAAsBF,EAAtBE,QAASpF,EAAakF,EAAblF,SAEnBmF,EAAG,UAAMX,GAAN,OAAeA,EAAOyC,SAAS,KAAO,GAAK,IAA3C,uBAA6DjH,EAA7D,kBAA+E8G,GAExF,OAAO7B,EAAa,CAAEE,MAAKC,YCGrB8B,CAAqB,CAAEJ,SAAQ9G,aAC5BuF,MAAK,SAAAzF,GACJ,EAAKyE,SAAS,CACZ2B,mBAAoB,KACpBC,oBAAqB,KACrBrG,YAEe,aAAbE,GAA2B0G,GAC7B3G,EAAS,CAAEC,WAAUkB,UAAWpB,EAAQT,QAG3C8H,OAAM,SAAAC,GACLP,EAAQO,MAMTC,SAAQ,kBAAM,EAAK9C,SAAS,CAAE0B,SAAS,OAE1CQ,KAAKlC,SAAS,CACZ0B,SAAS,EACTC,mBAAoB1C,EAAac,MACjC6B,oBAAqBtG,EAAE,yB,0CAO7B4G,KAAKlC,SAAS,CACZ2B,mBAAoB,KACpBC,oBAAqB,S,+BAIf,IAAD,EAC+DM,KAAKT,MAAnElG,EADD,EACCA,QAASoG,EADV,EACUA,mBAAoBC,EAD9B,EAC8BA,oBAAqBF,EADnD,EACmDA,QADnD,EAEqCQ,KAAKxD,MAAzCpD,EAFD,EAECA,EAAGV,EAFJ,EAEIA,SAAUY,EAFd,EAEcA,SAAUC,EAFxB,EAEwBA,SAE/B,OACE,kBAACsH,EAAA,EAAD,CAAelB,MAAOK,KAAKL,OACzB,kBAAChH,EAAD,CAAqBD,SAAUA,GAC5BU,EAAE,4BAEL,kBAACjB,EAAD,CAAmBO,SAAUA,GAC1B8G,GAAWpG,EAAE,mBACZoG,GACA,kBAAC,EAAD,CAAkBnG,QAASA,EAASC,SAAUA,EAAUC,SAAUA,KAGtE,kBAAC,EAAD,CACE0D,OAAQwC,EACRvC,QAASwC,EACTvC,QAAS6C,KAAKH,yB,GAjGgB5H,IAAM6I,WAgH9CxB,EAA0BrE,aAAe,CACvCmF,QAAS,cAGIW,IR7HcC,EQ6HdD,GR7HcC,EQ6HD1E,cAAkBgD,GR5HrC,SAA+B9C,GACpC,OACE,kBAACxE,EAAgBiJ,SAAjB,MAEG,SAAAC,GAAK,OAAI,kBAACF,EAAD,iBAAsBxE,EAAtB,CAA6B9D,SAAUwI,USA5CC,EAA6B,SAAAC,GAAS,OAAI,SAAAC,GAAO,OAT5B,SAACC,EAASD,GAC1C,IAAME,EAAc,IAAIC,YAAYF,EAAS,CAC3CG,OAAQ,CACNJ,aAGJlD,OAAOuD,cAAcH,GAIrBI,CAAmBP,EAAWC,KCPnBO,EAAqB,CAChCC,mBAAoB,gC,yjBCKtB,IAAMC,EAAsB,kBACzB3D,QACCA,OAAOC,SACPD,OAAOC,QAAQ1F,UAFhB,KAEiCyF,OAAOC,QAAQ1F,SAFhD,CAE0DJ,aAAa,KAAW,CACjFA,aAAa,IAGXyJ,EAAa,CACjBxI,SAAU,YAGNyI,G,YAGJ,aAAsB,IAAD,mDAANC,EAAM,yBAANA,EAAM,uBACnB,iEAASA,MAHX3I,SAAW6H,EAA2BS,EAAmBC,oBAKvD,EAAKK,WAAa,KAClB,EAAKC,6BAA+B,KACpC,EAAKzJ,SAAWoJ,IALG,E,sFAYIvI,EAAU6I,EAAUC,GAC3C,IAAKnL,OAAOoL,OAAOP,GAAYQ,SAAShJ,GACtC,MAAM,IAAI4F,MAAJ,uCAA0C5F,IAE9CyG,KAAKkC,YAAcG,IAAaD,GAClCpC,KAAKwC,W,0CAIY,IAAD,OAClBxC,KAAKkC,WAAaO,SAASC,cAAc,OACzC1C,KAAK2C,YAAY3C,KAAKkC,YAEtB,IFpCmCd,EAAWwB,EEoCxCC,EAAS7C,KAAK8C,aAAa,WAAa,KAC9CrL,IAAQsL,eAAeF,GAEvB7C,KAAKtH,SAAL,KAAqBoJ,IAArB,CAA4CxJ,aAAa,IAEzD0H,KAAKmC,8BFzC8Bf,ECXJ,WDWewB,EEyCkC,WAC9E,EAAKlK,SAAL,KAAqBoJ,IAArB,CAA4CxJ,aAAa,IACzD,EAAKkK,UF1CTrE,OAAO6E,iBAAiB5B,EAAWwB,GAE5B,WACLzE,OAAO8E,oBAAoB7B,EAAWwB,KE0CtC5C,KAAKwC,W,+BAGG,IAAD,OAEDjJ,EAAWyG,KAAK8C,aAAaf,EAAWxI,UAW9C2J,IAASV,OACP,kBAACxK,EAAgBmL,SAAjB,CAA0BjC,MAAOlB,KAAKtH,UACpC,kBAAC,EAAD,CAA2Ba,SAAUA,EAAU6G,QAXnC,SAAAvD,GACd,IAAMuG,EAAc,IAAI5B,YAAJ,UAJI,qBAIJ,SAA6C,CAC/D6B,QAAS,CACPxG,WAGJ,EAAK6E,cAAc0B,IAKgD9J,SAAU0G,KAAK1G,YAElF0G,KAAKkC,c,6CAKHlC,KAAKmC,8BACPnC,KAAKmC,kC,0CApDP,OAAOjL,OAAOoL,OAAOP,O,eAZauB,cAqEjCC,eAAeC,IAAI,0BACtBD,eAAeE,OAAO,wBAAyBzB,M","file":"static/js/main.5767cafc.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAjCAYAAADv0ujUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGxSURBVHgB1di7SsNQHMfx30lT7SAiLoKLEXEoglacHMT6BvoIfQIpgqt2FcShD2LfwNBBcBCKSwUFlbp5oXaIlrQ55l+sIK1JTi4nyRfOcpLAh+SEXBgkd9uq7lvcOgaY3u33S+uL5bbI8QwSa7aqR3yA/Ymj0bWsHRG0NPAIdpggWoGE/sVSDIXJTOYcHosc7Ij9jRfhsUjB3rA2l1sVeCyyNSyCXVkou+43LBJwVFgqdHCUWCpUcNRYKjSwDCzFTi6KBSXHzxiHBp/lZ9agTS1pbvvddZq47zQfIRgH2ozx2sFmvcJOL7cf7AkNPluezg+GW4SlEST7HaSkpAVLMTDN94NDNnaYL3BcWEoYHCeWEgLHjaU8g5OApTyBk4KlXMFJwlKO4KySTRSWcgSrNtgtmVgq0BeHbCzlGxwHlvIFjgtLqU4bP3sGrl7qf+f6Bgx73mt0487l5iFax2zb42NkXnU78K37iiDRjbs6uwHR6AqOA0v5kRJmrmc4aD3LxLPxBNFoSYwrcrBpg2/erxFWqVsSKQQz6EhJHEpNzXyxPXMCuwyWhiRnKfrhlt74BrRpEiKr3wkIAAAAAElFTkSuQmCC\"","import en from 'i18n/locales/en.json';\r\n\r\nexport default {\r\n  en,\r\n};\r\n","import i18next from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\n\r\nimport locales from 'i18n/locales';\r\n\r\n// adds the default namespace ('translation') to resources object per i18next documentation\r\nconst resources = Object.keys(locales).reduce(\r\n  (acc, lang) => ({ ...acc, [lang]: { translation: locales[lang] } }),\r\n  {}\r\n);\r\n\r\ni18next.use(initReactI18next).init({\r\n  fallbackLng: 'en',\r\n  resources,\r\n  interpolation: {\r\n    escapeValue: false,\r\n  },\r\n});\r\n","import React from 'react';\r\n\r\nexport const KeycloakContext = React.createContext(null);\r\n\r\nexport function withKeycloak(WrappedComponent) {\r\n  return function ComponentWithKeycloak(props) {\r\n    return (\r\n      <KeycloakContext.Consumer>\r\n        {/* eslint-disable-next-line react/jsx-props-no-spreading */}\r\n        {value => <WrappedComponent {...props} keycloak={value} />}\r\n      </KeycloakContext.Consumer>\r\n    );\r\n  };\r\n}\r\n","export const AuthenticatedView = ({ children, keycloak }) => {\r\n  const authenticated = keycloak.initialized && keycloak.authenticated;\r\n  return authenticated ? children : null;\r\n};\r\n\r\nexport const UnauthenticatedView = ({ children, keycloak }) => {\r\n  const authenticated = keycloak.initialized && keycloak.authenticated;\r\n  return !authenticated ? children : null;\r\n};\r\n","import PropTypes from 'prop-types';\r\n\r\nconst keycloakType = PropTypes.shape({\r\n  initialized: PropTypes.bool,\r\n  authenticated: PropTypes.bool,\r\n});\r\n\r\nexport default keycloakType;\r\n","import PropTypes from 'prop-types';\r\n\r\nconst seedscardType = PropTypes.shape({\r\n  id: PropTypes.number,\r\n\r\n  accountNumber: PropTypes.string,\r\n  balance: PropTypes.number,\r\n  userId: PropTypes.string,\r\n});\r\n\r\nexport default seedscardType;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withTranslation } from 'react-i18next';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { compose } from 'recompose';\r\nimport seedscardType from 'components/__types__/seedscard';\r\nimport seedscardIcon from 'assets/Framecredit-card.png';\r\n\r\nconst styles = () => ({\r\n  SeedsCard: {\r\n    display: 'block !important',\r\n    height: '300px',\r\n    background: '#ffffff',\r\n    padding: '10%',\r\n    boxShadow: '0 0 18px rgba(0, 0, 0, 0.25)',\r\n    borderRadius: '20px',\r\n    transition: '0.3s ease',\r\n    '&:hover': {\r\n      height: '300px',\r\n      background: '#7ab7740d',\r\n      boxShadow: '0 0 18px #7ab774',\r\n      padding: '10%',\r\n      borderRadius: '20px',\r\n    },\r\n  },\r\n  SeedsCard__icon: {},\r\n  SeedsCard__header: {\r\n    display: 'flex',\r\n    alignItems: 'baseline',\r\n    position: 'relative',\r\n    '& *': {\r\n      backgroundColor: 'transparent !important',\r\n    },\r\n  },\r\n  SeedsCard__title: {\r\n    fontWeight: '500',\r\n    fontSize: '30px',\r\n    color: '#0e6837',\r\n    margin: '0 20px',\r\n    lineHeight: '35px',\r\n  },\r\n  SeedsCard__value: {\r\n    fontSize: '16px',\r\n    color: '#c7c7c7',\r\n    lineHeight: '33px',\r\n  },\r\n  SeedsCard__action: {\r\n    position: 'absolute',\r\n    right: '0',\r\n    top: '19%',\r\n    color: '#c7c7c7',\r\n  },\r\n  SeedsCard__balance: {\r\n    fontWeight: '500',\r\n    fontSize: '50px',\r\n    color: '#000000',\r\n    margin: '10% 0 0 0',\r\n  },\r\n  SeedsCard__balanceCaption: {\r\n    fontWeight: '500',\r\n    fontSize: '18px',\r\n    color: '#c7c7c7',\r\n  },\r\n  SeedsCard__balanceReward: {\r\n    fontWeight: '500',\r\n    fontSize: '18px',\r\n    color: '#c7c7c7',\r\n  },\r\n  SeedsCard__balanceRewardValue: {\r\n    fontWeight: '500',\r\n    fontSize: '18px',\r\n    color: '#000000',\r\n  },\r\n});\r\n\r\nconst SeedscardDetails = ({ classes, t, account, onDetail, cardname }) => {\r\n  const header = (\r\n    <div className={classes.SeedsCard__header}>\r\n      <img alt=\"interest account icon\" className={classes.SeedsCard__icon} src={seedscardIcon} />\r\n      <div className={classes.SeedsCard__title}>\r\n        {t('common.widgetName', {\r\n          widgetNamePlaceholder: cardname.replace(/^\\w/, c => c.toUpperCase()),\r\n        })}\r\n      </div>\r\n      <div className={classes.SeedsCard__value}>\r\n        ...\r\n        {account &&\r\n          account.id &&\r\n          account.accountNumber.substring(\r\n            account.accountNumber.length - 4,\r\n            account.accountNumber.length\r\n          )}\r\n      </div>\r\n      <div className={classes.SeedsCard__action}>\r\n        <i className=\"fas fa-ellipsis-v\" />\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    // eslint-disable-next-line jsx-a11y/click-events-have-key-events,jsx-a11y/no-static-element-interactions\r\n    <div\r\n      onClick={account && account.id ? () => onDetail({ cardname, accountID: account.id }) : null}\r\n    >\r\n      <div className={classes.SeedsCard}>\r\n        {account && account.id ? (\r\n          <>\r\n            {header}\r\n            <p className={classes.SeedsCard__balance}>\r\n              ${account.balance.toString().replace(/\\B(?<!\\.\\d)(?=(\\d{3})+(?!\\d))/g, ',')}\r\n            </p>\r\n            <p className={classes.SeedsCard__balanceCaption}>Balance</p>\r\n            {account.rewardPoints && (\r\n              <p className={classes.SeedsCard__balanceReward}>\r\n                Reward Points:{' '}\r\n                <span className={classes.SeedsCard__balanceRewardValue}>\r\n                  {account.rewardPoints}\r\n                </span>\r\n              </p>\r\n            )}\r\n          </>\r\n        ) : (\r\n          <>\r\n            {header}\r\n            <p className={classes.SeedsCard__balanceCaption}>\r\n              You don&apos;t have a {cardname} account\r\n            </p>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nSeedscardDetails.propTypes = {\r\n  classes: PropTypes.shape({\r\n    SeedsCard: PropTypes.string.isRequired,\r\n    SeedsCard__header: PropTypes.string.isRequired,\r\n    SeedsCard__icon: PropTypes.string.isRequired,\r\n    SeedsCard__title: PropTypes.string.isRequired,\r\n    SeedsCard__value: PropTypes.string.isRequired,\r\n    SeedsCard__action: PropTypes.string.isRequired,\r\n    SeedsCard__balance: PropTypes.string.isRequired,\r\n    SeedsCard__balanceCaption: PropTypes.string.isRequired,\r\n    SeedsCard__balanceReward: PropTypes.string.isRequired,\r\n    SeedsCard__balanceRewardValue: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n  account: seedscardType,\r\n  t: PropTypes.func.isRequired,\r\n  onDetail: PropTypes.func.isRequired,\r\n  cardname: PropTypes.string.isRequired,\r\n};\r\n\r\nSeedscardDetails.defaultProps = {\r\n  account: null,\r\n};\r\n\r\nexport default compose(\r\n  withStyles(styles, { withTheme: true }),\r\n  withTranslation()\r\n)(SeedscardDetails);\r\n","/* eslint-disable react/jsx-props-no-spreading */\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Snackbar } from '@material-ui/core';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nconst styles = {};\r\n\r\nconst autoHideDurations = {\r\n  success: 3000,\r\n  error: null,\r\n  info: 5000,\r\n};\r\n\r\nconst Notification = ({ status: passedStatus, message, onClose }) => {\r\n  const isOpen = !!message;\r\n\r\n  console.log(isOpen);\r\n  console.log(message);\r\n\r\n  const status = passedStatus || Notification.INFO;\r\n  const autoHideDuration = autoHideDurations[status];\r\n\r\n  return (\r\n    <Snackbar open={isOpen} autoHideDuration={autoHideDuration} onClose={onClose}>\r\n      <Alert onClose={onClose} severity={status}>\r\n        {message}\r\n      </Alert>\r\n    </Snackbar>\r\n  );\r\n};\r\n\r\nNotification.SUCCESS = 'success';\r\nNotification.ERROR = 'error';\r\nNotification.INFO = 'info';\r\n\r\nNotification.propTypes = {\r\n  status: PropTypes.oneOf([Notification.SUCCESS, Notification.ERROR, Notification.INFO]),\r\n  message: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n};\r\n\r\nNotification.defaultProps = {\r\n  message: null,\r\n  status: Notification.INFO,\r\n  onClose: () => this.setState({ open: false }),\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(Notification);\r\n","// eslint-disable-next-line import/prefer-default-export\r\nexport const DOMAIN =\r\n  process.env.NODE_ENV === 'development'\r\n    ? process.env.REACT_APP_SERVICE_URL\r\n    : process.env.REACT_APP_DOMAIN;\r\n","import { DOMAIN } from 'api/constants';\r\n\r\nconst getKeycloakToken = () => {\r\n  if (\r\n    window &&\r\n    window.entando &&\r\n    window.entando.keycloak &&\r\n    window.entando.keycloak.authenticated\r\n  ) {\r\n    return window.entando.keycloak.token;\r\n  }\r\n  return '';\r\n};\r\n\r\nconst defaultOptions = () => {\r\n  const token = getKeycloakToken();\r\n\r\n  return {\r\n    headers: new Headers({\r\n      Authorization: `Bearer ${token}`,\r\n      'Content-Type': 'application/json',\r\n    }),\r\n  };\r\n};\r\n\r\nconst executeFetch = (params = {}) => {\r\n  const { url, options } = params;\r\n  return fetch(url, {\r\n    method: 'GET',\r\n    ...defaultOptions(),\r\n    ...options,\r\n  })\r\n    .then(response =>\r\n      response.status >= 200 && response.status < 300\r\n        ? Promise.resolve(response)\r\n        : Promise.reject(new Error(response.statusText || response.status))\r\n    )\r\n    .then(response => response.json());\r\n};\r\n\r\nexport const getSeedscard = (params = {}) => {\r\n  const { id, options, cardname } = params;\r\n\r\n  const url = `${DOMAIN}${DOMAIN.endsWith('/') ? '' : '/'}banking/api/${cardname}s/${id}`;\r\n\r\n  return executeFetch({ url, options });\r\n};\r\n\r\nexport const getSeedscardByUserID = (params = {}) => {\r\n  const { userID, options, cardname } = params;\r\n\r\n  const url = `${DOMAIN}${DOMAIN.endsWith('/') ? '' : '/'}banking/api/${cardname}s/user/${userID}`;\r\n\r\n  return executeFetch({ url, options });\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withTranslation } from 'react-i18next';\r\nimport { ThemeProvider } from '@material-ui/styles';\r\nimport { createMuiTheme } from '@material-ui/core';\r\n\r\nimport keycloakType from 'components/__types__/keycloak';\r\nimport { withKeycloak } from 'auth/KeycloakContext';\r\nimport { AuthenticatedView, UnauthenticatedView } from 'auth/KeycloakViews';\r\nimport SeedscardDetails from 'components/SeedscardDetails';\r\nimport Notification from 'components/common/Notification';\r\nimport { getSeedscardByUserID } from 'api/seedscard';\r\n\r\nclass SeedscardDetailsContainer extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      loading: true,\r\n      account: null,\r\n      notificationStatus: null,\r\n      notificationMessage: null,\r\n    };\r\n\r\n    this.theme = createMuiTheme();\r\n    this.closeNotification = this.closeNotification.bind(this);\r\n    this.fetchData = this.fetchData.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { keycloak } = this.props;\r\n    const authenticated = keycloak.initialized && keycloak.authenticated;\r\n\r\n    if (authenticated) {\r\n      this.fetchData({ firstCall: true });\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { keycloak } = this.props;\r\n    const authenticated = keycloak.initialized && keycloak.authenticated;\r\n\r\n    const changedAuth = prevProps.keycloak.authenticated !== authenticated;\r\n\r\n    if (authenticated && changedAuth) {\r\n      this.fetchData({ firstCall: true });\r\n    }\r\n  }\r\n\r\n  fetchData({ firstCall }) {\r\n    const { onError, t, keycloak, cardname, onDetail } = this.props;\r\n    const authenticated = keycloak.initialized && keycloak.authenticated;\r\n    const userID = keycloak.idTokenParsed.preferred_username;\r\n\r\n    if (authenticated) {\r\n      if (userID) {\r\n        getSeedscardByUserID({ userID, cardname })\r\n          .then(account => {\r\n            this.setState({\r\n              notificationStatus: null,\r\n              notificationMessage: null,\r\n              account,\r\n            });\r\n            if (cardname === 'checking' && firstCall) {\r\n              onDetail({ cardname, accountID: account.id });\r\n            }\r\n          })\r\n          .catch(e => {\r\n            onError(e);\r\n            // this.setState({\r\n            //   notificationStatus: Notification.ERROR,\r\n            //   notificationMessage: t('common.couldNotFetchData'),\r\n            // });\r\n          })\r\n          .finally(() => this.setState({ loading: false }));\r\n      } else {\r\n        this.setState({\r\n          loading: false,\r\n          notificationStatus: Notification.ERROR,\r\n          notificationMessage: t('common.missingId'),\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  closeNotification() {\r\n    this.setState({\r\n      notificationStatus: null,\r\n      notificationMessage: null,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { account, notificationStatus, notificationMessage, loading } = this.state;\r\n    const { t, keycloak, onDetail, cardname } = this.props;\r\n\r\n    return (\r\n      <ThemeProvider theme={this.theme}>\r\n        <UnauthenticatedView keycloak={keycloak}>\r\n          {t('common.notAuthenticated')}\r\n        </UnauthenticatedView>\r\n        <AuthenticatedView keycloak={keycloak}>\r\n          {loading && t('common.loading')}\r\n          {!loading && (\r\n            <SeedscardDetails account={account} onDetail={onDetail} cardname={cardname} />\r\n          )}\r\n        </AuthenticatedView>\r\n        <Notification\r\n          status={notificationStatus}\r\n          message={notificationMessage}\r\n          onClose={this.closeNotification}\r\n        />\r\n      </ThemeProvider>\r\n    );\r\n  }\r\n}\r\n\r\nSeedscardDetailsContainer.propTypes = {\r\n  onError: PropTypes.func,\r\n  t: PropTypes.func.isRequired,\r\n  keycloak: keycloakType.isRequired,\r\n  onDetail: PropTypes.func.isRequired,\r\n  cardname: PropTypes.string.isRequired,\r\n};\r\n\r\nSeedscardDetailsContainer.defaultProps = {\r\n  onError: () => {},\r\n};\r\n\r\nexport default withKeycloak(withTranslation()(SeedscardDetailsContainer));\r\n","export const publishWidgetEvent = (eventId, payload) => {\r\n  const widgetEvent = new CustomEvent(eventId, {\r\n    detail: {\r\n      payload,\r\n    },\r\n  });\r\n  window.dispatchEvent(widgetEvent);\r\n};\r\n\r\nexport const createWidgetEventPublisher = eventType => payload =>\r\n  publishWidgetEvent(eventType, payload);\r\n\r\nexport const subscribeToWidgetEvent = (eventType, eventHandler) => {\r\n  window.addEventListener(eventType, eventHandler);\r\n\r\n  return () => {\r\n    window.removeEventListener(eventType, eventHandler);\r\n  };\r\n};\r\n\r\nexport const subscribeToWidgetEvents = (widgetEvents, eventHandler) => {\r\n  widgetEvents.forEach(eventType => window.addEventListener(eventType, eventHandler));\r\n\r\n  return () => {\r\n    widgetEvents.forEach(eventType => window.removeEventListener(eventType, eventHandler));\r\n  };\r\n};\r\n\r\nexport const widgetEventToFSA = widgetEvent => {\r\n  // for info about Flux Standard Action (FSA) see https://github.com/redux-utilities/flux-standard-action\r\n  const {\r\n    type,\r\n    detail: { payload, error, meta },\r\n  } = widgetEvent;\r\n  return { type, payload, error, meta };\r\n};\r\n","// eslint-disable-next-line import/prefer-default-export\r\nexport const KEYCLOAK_EVENT_TYPE = 'keycloak';\r\n\r\nexport const OUTPUT_EVENT_TYPES = {\r\n  transactionsDetail: 'seedscard.transactionsDetail',\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport i18next from 'i18next';\r\n\r\nimport { KeycloakContext } from 'auth/KeycloakContext';\r\nimport SeedscardDetailsContainer from 'components/SeedscardDetailsContainer';\r\nimport { createWidgetEventPublisher, subscribeToWidgetEvent } from 'helpers/widgetEvents';\r\nimport { OUTPUT_EVENT_TYPES, KEYCLOAK_EVENT_TYPE } from 'custom-elements/widgetEventTypes';\r\n\r\nconst getKeycloakInstance = () =>\r\n  (window &&\r\n    window.entando &&\r\n    window.entando.keycloak && { ...window.entando.keycloak, initialized: true }) || {\r\n    initialized: false,\r\n  };\r\n\r\nconst ATTRIBUTES = {\r\n  cardname: 'cardname',\r\n};\r\n\r\nclass SeedscardDetailsElement extends HTMLElement {\r\n  onDetail = createWidgetEventPublisher(OUTPUT_EVENT_TYPES.transactionsDetail);\r\n\r\n  constructor(...args) {\r\n    super(...args);\r\n\r\n    this.mountPoint = null;\r\n    this.unsubscribeFromKeycloakEvent = null;\r\n    this.keycloak = getKeycloakInstance();\r\n  }\r\n\r\n  static get observedAttributes() {\r\n    return Object.values(ATTRIBUTES);\r\n  }\r\n\r\n  attributeChangedCallback(cardname, oldValue, newValue) {\r\n    if (!Object.values(ATTRIBUTES).includes(cardname)) {\r\n      throw new Error(`Untracked changed attribute: ${cardname}`);\r\n    }\r\n    if (this.mountPoint && newValue !== oldValue) {\r\n      this.render();\r\n    }\r\n  }\r\n\r\n  connectedCallback() {\r\n    this.mountPoint = document.createElement('div');\r\n    this.appendChild(this.mountPoint);\r\n\r\n    const locale = this.getAttribute('locale') || 'en';\r\n    i18next.changeLanguage(locale);\r\n\r\n    this.keycloak = { ...getKeycloakInstance(), initialized: true };\r\n\r\n    this.unsubscribeFromKeycloakEvent = subscribeToWidgetEvent(KEYCLOAK_EVENT_TYPE, () => {\r\n      this.keycloak = { ...getKeycloakInstance(), initialized: true };\r\n      this.render();\r\n    });\r\n\r\n    this.render();\r\n  }\r\n\r\n  render() {\r\n    const customEventPrefix = 'seedscard.details.';\r\n    const cardname = this.getAttribute(ATTRIBUTES.cardname);\r\n\r\n    const onError = error => {\r\n      const customEvent = new CustomEvent(`${customEventPrefix}error`, {\r\n        details: {\r\n          error,\r\n        },\r\n      });\r\n      this.dispatchEvent(customEvent);\r\n    };\r\n\r\n    ReactDOM.render(\r\n      <KeycloakContext.Provider value={this.keycloak}>\r\n        <SeedscardDetailsContainer cardname={cardname} onError={onError} onDetail={this.onDetail} />\r\n      </KeycloakContext.Provider>,\r\n      this.mountPoint\r\n    );\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    if (this.unsubscribeFromKeycloakEvent) {\r\n      this.unsubscribeFromKeycloakEvent();\r\n    }\r\n  }\r\n}\r\n\r\nif (!customElements.get('sd-seeds-card-details')) {\r\n  customElements.define('sd-seeds-card-details', SeedscardDetailsElement);\r\n}\r\n"],"sourceRoot":""}
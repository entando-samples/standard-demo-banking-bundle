{"version":3,"sources":["auth/KeycloakContext.js","components/pagination/PaginationContext.js","auth/KeycloakViews.js","components/__types__/keycloak.js","components/common/ConfirmationDialogTrigger.js","components/pagination/TablePaginationActions.js","components/pagination/PaginationWrapper.js","components/__types__/seedscardtransaction.js","components/SeedscardtransactionTable.js","components/common/Notification.js","api/constants.js","components/filters/utils.js","api/seedscardtransactions.js","custom-elements/widgetEventTypes.js","state/filter.types.js","state/seedscardtransaction.types.js","state/seedscardtransaction.reducer.js","components/SeedscardtransactionTableContainer.js","i18n/locales/index.js","i18n/i18next.js","i18n/setLocale.js","i18n/constants.js","helpers/widgetEvents.js","custom-elements/SeedscardtransactionTableElement.js"],"names":["KeycloakContext","React","createContext","itemsPerPageOptions","initialState","currentPage","totalItemCount","itemsPerPage","length","PaginationContext","pagination","PaginationProvider","props","initialItemsPerPage","paginationMode","state","onChangeItemsPerPage","bind","onChangeCurrentPage","value","target","this","setState","parseInt","newPage","children","Provider","Component","withPaginationContext","Consumer","context","defaultProps","AuthenticatedView","PropTypes","shape","initialized","bool","authenticated","keycloak","UnauthenticatedView","ConfirmationDialogTrigger","open","handleOpen","discard","confirm","action","onCloseDialog","handleClose","DISCARD","CONFIRM","dialog","title","description","confirmLabel","discardLabel","Renderer","onClick","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","id","DialogContent","DialogContentText","DialogActions","Button","autoFocus","color","PureComponent","withTranslation","withStyles","root","flexShrink","marginLeft","classes","count","page","rowsPerPage","onChangePage","t","className","IconButton","disabled","aria-label","Math","ceil","max","number","date","string","amount","balance","accountID","items","itemCount","dataLength","next","hasMore","loader","TablePagination","component","rowsPerPageOptions","SelectProps","native","onChangeRowsPerPage","ActionsComponent","TablePaginationActions","StyledTableCell","body","fontSize","borderRadius","fontFamily","TableCell","StyledTableRow","theme","backgroundColor","palette","background","default","TableRow","SeedscardtransactionTable","onSelect","i18n","tableRows","map","item","key","hover","rowRoot","Date","toLocaleDateString","language","align","toString","replace","TableContainer","Table","Table__notification","TableHead","toUpperCase","TableBody","noItems","tableRoot","marginTop","cursor","overflow","textOverflow","whiteSpace","margin","textAlign","display","lineHeight","paddingRight","textTransform","statusIcon","success","CheckCircleIcon","error","ErrorIcon","info","InfoIcon","autoHideDurations","Notification","passedStatus","status","message","isOpen","INFO","Icon","autoHideDuration","messageTemplate","clsx","icon","iconStatus","Snackbar","SnackbarContent","SUCCESS","ERROR","alignItems","opacity","marginRight","spacing","green","dark","primary","main","withTheme","DOMAIN","process","getFilterQuery","filters","filter","f","field","operator","reduce","acc","encodeURIComponent","join","parseDateToString","toISOString","substring","getDefaultOptions","headers","Headers","Authorization","window","entando","token","request","url","options","a","fetch","response","has","get","json","seedscardtransactions","Promise","reject","Error","statusText","getUrl","hasQuery","parameters","apiSeedscardtransactionsDelete","method","apiSeedscardtransactionsGet","mode","cardname","filterQuery","paginationQuery","param","endsWith","INPUT_EVENT_TYPES","transactionDetails","OUTPUT_EVENT_TYPES","ADD_FILTER","UPDATE_FILTER","DELETE_FILTER","CLEAR_FILTERS","SET_DESCRIPTION_FILTER","SET_RANGE_FILTER","READ_ALL","ERROR_FETCH","CLEAR_ERRORS","CLEAR_ITEMS","CREATE","UPDATE","DELETE","errorMessage","errorStatus","loading","descriptionFilter","rangeFilter","reducer","type","index","payload","filterId","values","SeedscardtransactionTableContainer","handleDelete","handleError","closeNotification","fetchData","updateFilter","addFilter","removeFilter","clearFilters","applyFilters","onChangeDescription","onChangeRangeFilter","prevProps","prevState","detail","changedAuth","changedPagination","includes","changedDetail","rangeFilterChanged","JSON","stringify","afterSetState","receivedDetail","push","dateB","dateA","requestParameters","seedscardtransactionCount","dispatch","err","onError","onDelete","evt","today","range","d","setDate","getDate","getDateFromRange","getFullYear","getMonth","getHours","getStartMonthFromDate","tableTitleRow","tableTitle","name","SelectRange","onChange","SearchInput","SearchButton","tableWrapper","withKeycloak","WrappedComponent","fab","float","overflowX","overflowY","fontStyle","fontWeight","height","border","position","width","right","top","padding","flexDirection","borderBottom","outline","undefined","withRef","en","resources","Object","keys","locales","lang","i18next","locale","defaultLocale","use","initReactI18next","init","defaultNs","interpolation","escapeValue","lng","fallbackLng","react","useSuspense","setI18nextLocale","createWidgetEventPublisher","eventType","eventId","widgetEvent","CustomEvent","dispatchEvent","publishWidgetEvent","subscribeToWidgetEvent","eventHandler","addEventListener","removeEventListener","getKeycloakInstance","ATTRIBUTES","hidden","disableDefaultEventHandler","SeedscardtransactionTableElement","onAdd","add","select","delete","transactionDetail","onTransactionDetail","reactRootRef","createRef","render","oldValue","newValue","container","document","createElement","mountPoint","appendChild","shadowRoot","attachShadow","jss","create","jssPreset","insertionPoint","muiTheme","createMuiTheme","MuiDialog","unsubscribeFromKeycloakEvent","retargetEvents","unsubscribeFromWidgetEvents","meta","widgetEventToFSA","current","getAttribute","setLocale","widgetEvents","defaultWidgetEventHandler","forEach","ReactDOM","StylesProvider","ThemeProvider","ref","HTMLElement","customElements","define"],"mappings":"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","file":"static/js/main.3dcab97b.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nexport const KeycloakContext = React.createContext(null);\r\n\r\nexport function withKeycloak(WrappedComponent) {\r\n  return function ComponentWithKeycloak(props) {\r\n    return (\r\n      <KeycloakContext.Consumer>\r\n        {/* eslint-disable-next-line react/jsx-props-no-spreading */}\r\n        {value => <WrappedComponent {...props} keycloak={value} />}\r\n      </KeycloakContext.Consumer>\r\n    );\r\n  };\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport const itemsPerPageOptions = [5, 15, 30];\r\n\r\nconst initialState = {\r\n  currentPage: 0,\r\n  totalItemCount: 0,\r\n  itemsPerPage: itemsPerPageOptions[itemsPerPageOptions.length - 1],\r\n};\r\n\r\nexport const PaginationContext = React.createContext({ pagination: initialState });\r\n\r\nexport class PaginationProvider extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    const initialItemsPerPage =\r\n      props.paginationMode === 'pagination'\r\n        ? itemsPerPageOptions[1]\r\n        : itemsPerPageOptions[itemsPerPageOptions.length - 1];\r\n\r\n    this.state = {\r\n      pagination: {\r\n        ...initialState,\r\n        itemsPerPage: initialItemsPerPage,\r\n      },\r\n    };\r\n\r\n    this.onChangeItemsPerPage = this.onChangeItemsPerPage.bind(this);\r\n    this.onChangeCurrentPage = this.onChangeCurrentPage.bind(this);\r\n  }\r\n\r\n  onChangeItemsPerPage({ target: { value } }) {\r\n    this.setState(state => ({\r\n      ...state,\r\n      pagination: { ...state.pagination, itemsPerPage: parseInt(value, 10), currentPage: 0 },\r\n    }));\r\n  }\r\n\r\n  onChangeCurrentPage(newPage) {\r\n    this.setState(state => ({\r\n      ...state,\r\n      pagination: { ...state.pagination, currentPage: parseInt(newPage, 10) },\r\n    }));\r\n  }\r\n\r\n  render() {\r\n    const { pagination } = this.state;\r\n    const { children } = this.props;\r\n    return (\r\n      <PaginationContext.Provider\r\n        value={{\r\n          ...pagination,\r\n          onChangeCurrentPage: this.onChangeCurrentPage,\r\n          onChangeItemsPerPage: this.onChangeItemsPerPage,\r\n        }}\r\n      >\r\n        {children}\r\n      </PaginationContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nPaginationProvider.propTypes = {\r\n  children: PropTypes.node.isRequired,\r\n  paginationMode: PropTypes.string,\r\n};\r\n\r\nPaginationProvider.defaultProps = {\r\n  paginationMode: '',\r\n};\r\n\r\nexport function withPaginationContext(Component) {\r\n  return function PaginatedComponent(props) {\r\n    return (\r\n      <PaginationContext.Consumer>\r\n        {/* eslint-disable-next-line react/jsx-props-no-spreading */}\r\n        {context => <Component {...props} pagination={context} />}\r\n      </PaginationContext.Consumer>\r\n    );\r\n  };\r\n}\r\n","export const AuthenticatedView = ({ children, keycloak }) => {\r\n  const authenticated = keycloak.initialized && keycloak.authenticated;\r\n  return authenticated ? children : null;\r\n};\r\n\r\nexport const UnauthenticatedView = ({ children, keycloak }) => {\r\n  const authenticated = keycloak.initialized && keycloak.authenticated;\r\n  return !authenticated ? children : null;\r\n};\r\n","import PropTypes from 'prop-types';\r\n\r\nconst keycloakType = PropTypes.shape({\r\n  initialized: PropTypes.bool,\r\n  authenticated: PropTypes.bool,\r\n});\r\n\r\nexport default keycloakType;\r\n","import React, { PureComponent } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nexport default class ConfirmationDialogTrigger extends PureComponent {\r\n  static CONFIRM = 'CONFIRM';\r\n\r\n  static DISCARD = 'DISCARD';\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { open: false };\r\n    this.handleOpen = this.handleOpen.bind(this);\r\n    this.discard = this.discard.bind(this);\r\n    this.confirm = this.confirm.bind(this);\r\n  }\r\n\r\n  handleOpen() {\r\n    this.setState(() => ({\r\n      open: true,\r\n    }));\r\n  }\r\n\r\n  handleClose(action) {\r\n    const { onCloseDialog } = this.props;\r\n    this.setState(() => ({\r\n      open: false,\r\n    }));\r\n    onCloseDialog(action);\r\n  }\r\n\r\n  discard() {\r\n    this.handleClose(ConfirmationDialogTrigger.DISCARD);\r\n  }\r\n\r\n  confirm() {\r\n    this.handleClose(ConfirmationDialogTrigger.CONFIRM);\r\n  }\r\n\r\n  render() {\r\n    const { open } = this.state;\r\n    const {\r\n      dialog: { title, description, confirmLabel, discardLabel },\r\n      Renderer,\r\n    } = this.props;\r\n    return (\r\n      <div>\r\n        <Renderer onClick={this.handleOpen} />\r\n        <Dialog\r\n          open={open}\r\n          onClose={this.handleClose}\r\n          aria-labelledby=\"confirmation-dialog-title\"\r\n          aria-describedby=\"confirmation-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"confirmation-dialog-title\">{title}</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"confirmation-dialog-description\">\r\n              {description}\r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={this.discard} autoFocus>\r\n              {discardLabel}\r\n            </Button>\r\n            <Button onClick={this.confirm} color=\"primary\">\r\n              {confirmLabel}\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nConfirmationDialogTrigger.propTypes = {\r\n  dialog: PropTypes.shape({\r\n    title: PropTypes.string.isRequired,\r\n    description: PropTypes.string.isRequired,\r\n    confirmLabel: PropTypes.string.isRequired,\r\n    discardLabel: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n  onCloseDialog: PropTypes.func.isRequired,\r\n  Renderer: PropTypes.oneOfType([PropTypes.string, PropTypes.func]).isRequired,\r\n};\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withTranslation } from 'react-i18next';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport FirstPageIcon from '@material-ui/icons/FirstPage';\r\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\r\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\r\nimport LastPageIcon from '@material-ui/icons/LastPage';\r\n\r\nconst styles = {\r\n  root: {\r\n    flexShrink: 0,\r\n    marginLeft: '5px',\r\n  },\r\n};\r\n\r\nconst TablePaginationActions = ({ classes, count, page, rowsPerPage, onChangePage, t }) => {\r\n  const handleFirstPageButtonClick = () => {\r\n    onChangePage(0);\r\n  };\r\n\r\n  const handleBackButtonClick = () => {\r\n    onChangePage(page - 1);\r\n  };\r\n\r\n  const handleNextButtonClick = () => {\r\n    onChangePage(page + 1);\r\n  };\r\n\r\n  const handleLastPageButtonClick = () => {\r\n    onChangePage(Math.max(0, Math.ceil(count / rowsPerPage) - 1));\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <IconButton\r\n        onClick={handleFirstPageButtonClick}\r\n        disabled={page === 0}\r\n        aria-label={t('pagination.ariaLabels.firstPage')}\r\n      >\r\n        <FirstPageIcon />\r\n      </IconButton>\r\n      <IconButton\r\n        onClick={handleBackButtonClick}\r\n        disabled={page === 0}\r\n        aria-label={t('pagination.ariaLabels.previousPage')}\r\n      >\r\n        <KeyboardArrowLeft />\r\n      </IconButton>\r\n      <IconButton\r\n        onClick={handleNextButtonClick}\r\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n        aria-label={t('pagination.ariaLabels.nextPage')}\r\n      >\r\n        <KeyboardArrowRight />\r\n      </IconButton>\r\n      <IconButton\r\n        onClick={handleLastPageButtonClick}\r\n        disabled={page >= Math.ceil(count / rowsPerPage) - 1}\r\n        aria-label={t('pagination.ariaLabels.lastPage')}\r\n      >\r\n        <LastPageIcon />\r\n      </IconButton>\r\n    </div>\r\n  );\r\n};\r\n\r\nTablePaginationActions.propTypes = {\r\n  onChangePage: PropTypes.func.isRequired,\r\n  page: PropTypes.number.isRequired,\r\n  rowsPerPage: PropTypes.number.isRequired,\r\n  count: PropTypes.number.isRequired,\r\n  classes: PropTypes.shape({\r\n    root: PropTypes.string,\r\n  }).isRequired,\r\n  t: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withTranslation()(withStyles(styles)(TablePaginationActions));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\nimport { withTranslation } from 'react-i18next';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\n\r\nimport {\r\n  withPaginationContext,\r\n  itemsPerPageOptions,\r\n} from 'components/pagination/PaginationContext';\r\nimport TablePaginationActions from 'components/pagination/TablePaginationActions';\r\n\r\nimport seedscardtransactionType from 'components/__types__/seedscardtransaction';\r\n\r\nconst PaginationWrapper = ({ children, pagination, paginationMode, items, itemCount, t }) => {\r\n  if (paginationMode === 'infinite-scroll') {\r\n    return (\r\n      <InfiniteScroll\r\n        dataLength={items.length}\r\n        next={() => pagination.onChangeCurrentPage(pagination.currentPage + 1)}\r\n        hasMore={items.length < itemCount}\r\n        loader={<div>{t('common.loadingMore')}</div>}\r\n      >\r\n        {children}\r\n      </InfiniteScroll>\r\n    );\r\n  }\r\n  if (paginationMode === 'pagination') {\r\n    return (\r\n      <>\r\n        {children}\r\n        {itemCount > 0 && (\r\n          <TablePagination\r\n            component=\"div\"\r\n            rowsPerPageOptions={itemsPerPageOptions}\r\n            count={itemCount}\r\n            rowsPerPage={pagination.itemsPerPage}\r\n            page={pagination.currentPage}\r\n            SelectProps={{\r\n              native: true,\r\n            }}\r\n            onChangePage={pagination.onChangeCurrentPage}\r\n            onChangeRowsPerPage={pagination.onChangeItemsPerPage}\r\n            ActionsComponent={TablePaginationActions}\r\n          />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n  return children;\r\n};\r\n\r\nPaginationWrapper.propTypes = {\r\n  children: PropTypes.node,\r\n  pagination: PropTypes.shape({\r\n    itemsPerPage: PropTypes.number,\r\n    currentPage: PropTypes.number,\r\n  }),\r\n  paginationMode: PropTypes.string,\r\n  items: PropTypes.arrayOf(seedscardtransactionType).isRequired,\r\n  itemCount: PropTypes.number,\r\n  t: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default withTranslation()(withPaginationContext(PaginationWrapper));\r\n","import PropTypes from 'prop-types';\r\n\r\nconst seedscardtransactionType = PropTypes.shape({\r\n  id: PropTypes.number,\r\n\r\n  date: PropTypes.string,\r\n  description: PropTypes.string,\r\n  amount: PropTypes.number,\r\n  balance: PropTypes.number,\r\n  accountID: PropTypes.number,\r\n});\r\n\r\nexport default seedscardtransactionType;\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withTranslation } from 'react-i18next';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\n\r\nimport seedscardtransactionType from 'components/__types__/seedscardtransaction';\r\n\r\n// .pagination .page-item.active .page-link {\r\n//   color: #000;\r\n//   background: #D8EAA0;\r\n//   border-radius: .125rem;\r\n//   box-shadow: 0 2px 5px 0 rgba(0, 0, 0, 0.16), 0 2px 10px 0 rgba(0, 0, 0, 0.12);\r\n//   transition: all 0.2s linear;\r\n// }\r\n// .pagination .page-item.active .page-link: hover, .pagination .page-item.active .page-link: focus {\r\n//   color: #000;\r\n//   background: #D8EAA0;\r\n// }\r\nconst styles = {\r\n  tableRoot: {\r\n    marginTop: '10px',\r\n    // minWidth: '100vw',\r\n  },\r\n  rowRoot: {\r\n    cursor: 'pointer',\r\n    overflow: 'hidden',\r\n    textOverflow: 'ellipsis',\r\n    whiteSpace: 'nowrap',\r\n  },\r\n  noItems: {\r\n    margin: '15px',\r\n    textAlign: 'center',\r\n    color: '#15840C',\r\n  },\r\n  Table__notification: {\r\n    display: 'inline-table',\r\n    fontFamily: 'Cabin-Regular',\r\n    '& thead': {\r\n      background: '#D6E291',\r\n      fontFamily: 'Cabin-Regular',\r\n      '& tr': {\r\n        textAlign: 'center',\r\n      },\r\n      '& th': {\r\n        fontSize: '18px',\r\n        lineHeight: '22px',\r\n        color: '#15840C',\r\n        paddingRight: '0',\r\n        textTransform: 'uppercase',\r\n      },\r\n    },\r\n    '& tr': {\r\n      textAlign: 'center',\r\n    },\r\n  },\r\n};\r\n\r\nconst StyledTableCell = withStyles(() => ({\r\n  body: {\r\n    fontSize: 14,\r\n    borderRadius: 0,\r\n    fontFamily: 'Cabin-Regular',\r\n  },\r\n}))(TableCell);\r\n\r\nconst StyledTableRow = withStyles(theme => ({\r\n  root: {\r\n    '&:nth-of-type(odd)': {\r\n      backgroundColor: theme.palette.background.default,\r\n    },\r\n  },\r\n}))(TableRow);\r\n\r\n// eslint-disable-next-line react/prefer-stateless-function\r\nclass SeedscardtransactionTable extends Component {\r\n  render() {\r\n    const { items, onSelect, classes, t, i18n } = this.props;\r\n\r\n    const tableRows = items.map(item => (\r\n      <StyledTableRow\r\n        key={item.id}\r\n        hover\r\n        className={classes.rowRoot}\r\n        onClick={() => onSelect(item)}\r\n      >\r\n        <StyledTableCell>{new Date(item.date).toLocaleDateString(i18n.language)}</StyledTableCell>\r\n        <StyledTableCell align=\"left\">{item.description}</StyledTableCell>\r\n        <StyledTableCell align=\"center\">\r\n          ${item.amount.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n        </StyledTableCell>\r\n        <StyledTableCell align=\"center\">\r\n          ${item.balance.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')}\r\n        </StyledTableCell>\r\n      </StyledTableRow>\r\n    ));\r\n\r\n    return items.length ? (\r\n      <TableContainer className=\"table-wrapper-scroll-y my-custom-scrollbar\">\r\n        <Table className={classes.Table__notification} aria-label=\"customized table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <StyledTableCell>\r\n                {t('entities.seedscardtransaction.date').toUpperCase()}\r\n              </StyledTableCell>\r\n              <StyledTableCell align=\"left\">\r\n                {t('entities.seedscardtransaction.description').toUpperCase()}\r\n              </StyledTableCell>\r\n              <StyledTableCell align=\"center\">\r\n                {t('entities.seedscardtransaction.amount').toUpperCase()}\r\n              </StyledTableCell>\r\n              <StyledTableCell align=\"center\">\r\n                {t('entities.seedscardtransaction.balance').toUpperCase()}\r\n              </StyledTableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>{tableRows}</TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    ) : (\r\n      <div className={classes.noItems}>{t('entities.seedscardtransaction.noItems')}</div>\r\n    );\r\n  }\r\n}\r\n\r\nSeedscardtransactionTable.propTypes = {\r\n  items: PropTypes.arrayOf(seedscardtransactionType).isRequired,\r\n  onSelect: PropTypes.func,\r\n  classes: PropTypes.shape({\r\n    rowRoot: PropTypes.string,\r\n    tableRoot: PropTypes.string,\r\n    noItems: PropTypes.string,\r\n    Table__notification: PropTypes.string,\r\n  }).isRequired,\r\n  t: PropTypes.func.isRequired,\r\n  i18n: PropTypes.shape({ language: PropTypes.string }).isRequired,\r\n};\r\n\r\nSeedscardtransactionTable.defaultProps = {\r\n  onSelect: () => {},\r\n};\r\n\r\nexport default withStyles(styles)(withTranslation()(SeedscardtransactionTable));\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport { Snackbar, SnackbarContent } from '@material-ui/core';\r\nimport { green } from '@material-ui/core/colors';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\nimport InfoIcon from '@material-ui/icons/Info';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nconst styles = theme => ({\r\n  message: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n  },\r\n  icon: {\r\n    fontSize: 20,\r\n  },\r\n  iconStatus: {\r\n    opacity: 0.9,\r\n    marginRight: theme.spacing(1),\r\n  },\r\n  success: {\r\n    backgroundColor: green[600],\r\n  },\r\n  error: {\r\n    backgroundColor: theme.palette.error.dark,\r\n  },\r\n  info: {\r\n    backgroundColor: theme.palette.primary.main,\r\n  },\r\n});\r\n\r\nconst statusIcon = {\r\n  success: CheckCircleIcon,\r\n  error: ErrorIcon,\r\n  info: InfoIcon,\r\n};\r\n\r\nconst autoHideDurations = {\r\n  success: 3000,\r\n  error: null,\r\n  info: 5000,\r\n};\r\n\r\nconst Notification = ({ className, classes, status: passedStatus, message, onClose }) => {\r\n  const isOpen = !!message;\r\n\r\n  const status = passedStatus || Notification.INFO;\r\n  const Icon = statusIcon[status];\r\n  const autoHideDuration = autoHideDurations[status];\r\n\r\n  const messageTemplate = (\r\n    <span className={classes.message}>\r\n      <Icon className={clsx(classes.icon, classes.iconStatus)} />\r\n      {message}\r\n    </span>\r\n  );\r\n\r\n  return (\r\n    <Snackbar open={isOpen} onClose={onClose} autoHideDuration={autoHideDuration}>\r\n      <SnackbarContent\r\n        className={clsx(classes[status], className)}\r\n        message={messageTemplate}\r\n        action={[\r\n          <IconButton key=\"close\" aria-label=\"close\" color=\"inherit\" onClick={onClose}>\r\n            <CloseIcon className={classes.icon} />\r\n          </IconButton>,\r\n        ]}\r\n      />\r\n    </Snackbar>\r\n  );\r\n};\r\n\r\nNotification.SUCCESS = 'success';\r\nNotification.ERROR = 'error';\r\nNotification.INFO = 'info';\r\n\r\nNotification.propTypes = {\r\n  classes: PropTypes.shape({\r\n    message: PropTypes.string.isRequired,\r\n    icon: PropTypes.string.isRequired,\r\n    iconStatus: PropTypes.string.isRequired,\r\n    error: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n  className: PropTypes.string,\r\n  status: PropTypes.oneOf([Notification.SUCCESS, Notification.ERROR, Notification.INFO]),\r\n  message: PropTypes.string,\r\n  onClose: PropTypes.func,\r\n};\r\n\r\nNotification.defaultProps = {\r\n  message: null,\r\n  status: null,\r\n  className: '',\r\n  onClose: () => {},\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(Notification);\r\n","// eslint-disable-next-line import/prefer-default-export\r\nexport const DOMAIN =\r\n  process.env.NODE_ENV === 'development'\r\n    ? process.env.REACT_APP_SERVICE_URL\r\n    : process.env.REACT_APP_DOMAIN;\r\n","const DEFAULT_FILTER_TYPES = ['equals', 'in', 'specified', 'unspecified'];\r\nconst STRING_FILTER_TYPES = ['contains'];\r\nconst DATE_NUMBER_FILTER_TYPES = [\r\n  { value: 'greaterThan', title: '>' },\r\n  { value: 'lessThan', title: '<' },\r\n  { value: 'greaterOrEqualThan', title: '>=' },\r\n  { value: 'lessOrEqualThan', title: '<=' },\r\n];\r\n\r\nconst STRING_FIELDS = ['description'];\r\nconst DATE_FIELDS = ['date'];\r\nconst NUMBER_FIELDS = ['amount', 'balance', 'accountID'];\r\n\r\nexport const getFieldFilterTypes = field => {\r\n  return [\r\n    ...DEFAULT_FILTER_TYPES,\r\n    ...(STRING_FIELDS.includes(field) ? STRING_FILTER_TYPES : []),\r\n    ...(DATE_FIELDS.includes(field) ? DATE_NUMBER_FILTER_TYPES : []),\r\n    ...(NUMBER_FIELDS.includes(field) ? DATE_NUMBER_FILTER_TYPES : []),\r\n  ];\r\n};\r\n\r\nexport const getFilterQuery = (filters = []) => {\r\n  if (filters.length) {\r\n    return filters\r\n      .filter(f => f.field && f.operator)\r\n      .reduce((acc, f) => {\r\n        switch (f.operator) {\r\n          case 'specified':\r\n            return [...acc, `${encodeURIComponent(`${f.field}.specified`)}=true`];\r\n          case 'unspecified':\r\n            return [...acc, `${encodeURIComponent(`${f.field}.specified`)}=false`];\r\n          default:\r\n        }\r\n        return [\r\n          ...acc,\r\n          `${encodeURIComponent(`${f.field}.${f.operator}`)}=${encodeURIComponent(f.value)}`,\r\n        ];\r\n      }, [])\r\n      .join('&');\r\n  }\r\n  return '';\r\n};\r\n\r\n/**\r\n * from Date format to yyyy-MM-dd format\r\n */\r\nexport const parseDateToString = ({ date }) => {\r\n  return date.toISOString().substring(0, 10);\r\n};\r\n\r\n/**\r\n * return the first day of month from a date (ISO FORMAT without time)\r\n */\r\nexport const getStartMonthFromDate = ({ d }) => {\r\n  const date = new Date(d.getFullYear(), d.getMonth(), 1, d.getHours());\r\n  return parseDateToString({ date });\r\n};\r\n\r\n/**\r\n * return the date starting from a date d and back to 'range' days (ISO FORMAT without time)\r\n */\r\nexport const getDateFromRange = ({ d, range }) => {\r\n  const date = new Date();\r\n  date.setDate(d.getDate() - range);\r\n  return parseDateToString({ date });\r\n};\r\n","import { DOMAIN } from 'api/constants';\r\nimport { getFilterQuery } from 'components/filters/utils';\r\n\r\nconst getKeycloakToken = () => {\r\n  if (\r\n    window &&\r\n    window.entando &&\r\n    window.entando.keycloak &&\r\n    window.entando.keycloak.authenticated\r\n  ) {\r\n    return window.entando.keycloak.token;\r\n  }\r\n  return '';\r\n};\r\n\r\nconst getDefaultOptions = () => ({\r\n  headers: new Headers({\r\n    Authorization: `Bearer ${getKeycloakToken()}`,\r\n    'Content-Type': 'application/json',\r\n  }),\r\n});\r\n\r\nconst request = async (url, options) => {\r\n  const response = await fetch(url, options);\r\n\r\n  const headers = {\r\n    ...(response.headers.has('X-Total-Count')\r\n      ? { 'X-Total-Count': parseInt(response.headers.get('X-Total-Count'), 10) }\r\n      : {}),\r\n  };\r\n\r\n  return response.status >= 200 && response.status < 300\r\n    ? { seedscardtransactions: await response.json(), headers }\r\n    : Promise.reject(new Error(response.statusText || response.status));\r\n};\r\n\r\nconst getUrl = (url, filters = '', pagination = '') => {\r\n  const hasQuery = !!(filters || pagination);\r\n  const parameters = `${filters}${filters ? '&' : ''}${pagination}`;\r\n  return `${url}${hasQuery ? `?${parameters}` : ''}`;\r\n};\r\n\r\nexport const apiSeedscardtransactionsDelete = async id => {\r\n  const url = `${DOMAIN}/seedscardtransactions/${id}`;\r\n  const options = {\r\n    ...getDefaultOptions(),\r\n    method: 'DELETE',\r\n  };\r\n  return request(url, options);\r\n};\r\n\r\nexport const apiSeedscardtransactionsGet = async ({ filters = [], pagination, mode, cardname }) => {\r\n  const filterQuery = getFilterQuery(filters);\r\n\r\n  const paginationQuery = pagination\r\n    ? `page=${pagination.page}&size=${pagination.rowsPerPage}`\r\n    : '';\r\n\r\n  const param = cardname.replace(/\\s+/g, '');\r\n\r\n  const url = getUrl(\r\n    `${DOMAIN}${DOMAIN.endsWith('/') ? '' : '/'}banking/api/${param}transactions${\r\n      mode === 'count' ? '/count' : ''\r\n    }`,\r\n    filterQuery,\r\n    paginationQuery\r\n  );\r\n\r\n  const options = {\r\n    ...getDefaultOptions(),\r\n    method: 'GET',\r\n  };\r\n  return request(url, options);\r\n};\r\n","export const INPUT_EVENT_TYPES = {\r\n  transactionDetails: 'seedscard.transactionsDetail',\r\n};\r\n\r\nexport const OUTPUT_EVENT_TYPES = {};\r\n\r\nexport const KEYCLOAK_EVENT_TYPE = 'keycloak';\r\n","export const ADD_FILTER = 'seedscardtransaction-filter/addFilter';\r\nexport const UPDATE_FILTER = 'seedscardtransaction-filter/updateFilter';\r\nexport const DELETE_FILTER = 'seedscardtransaction-filter/deleteFilter';\r\nexport const CLEAR_FILTERS = 'seedscardtransaction-filter/clearFilters';\r\nexport const SET_DESCRIPTION_FILTER = 'seedscardtransaction-filter/setDescriptionFilter';\r\nexport const SET_RANGE_FILTER = 'seedscardtransaction-filter/setRangeFilter';\r\n","export const READ_ALL = 'seedscardtransaction-table/readAll';\r\nexport const ERROR_FETCH = 'seedscardtransaction-table/error';\r\nexport const CLEAR_ERRORS = 'seedscardtransaction-table/clearErrors';\r\nexport const CLEAR_ITEMS = 'seedscardtransaction-table/clearItems';\r\nexport const CREATE = 'seedscardtransaction-table/create';\r\nexport const UPDATE = 'seedscardtransaction-table/update';\r\nexport const DELETE = 'seedscardtransaction-table/delete';\r\n","import { INPUT_EVENT_TYPES } from 'custom-elements/widgetEventTypes';\r\nimport {\r\n  ADD_FILTER,\r\n  UPDATE_FILTER,\r\n  DELETE_FILTER,\r\n  CLEAR_FILTERS,\r\n  SET_DESCRIPTION_FILTER,\r\n  SET_RANGE_FILTER,\r\n} from 'state/filter.types';\r\nimport {\r\n  READ_ALL,\r\n  ERROR_FETCH,\r\n  CLEAR_ERRORS,\r\n  CLEAR_ITEMS,\r\n  CREATE,\r\n  UPDATE,\r\n  DELETE,\r\n} from 'state/seedscardtransaction.types';\r\n\r\nexport const initialState = {\r\n  filters: [],\r\n  items: [],\r\n  itemCount: 0,\r\n  errorMessage: null,\r\n  errorStatus: null,\r\n  loading: false,\r\n  descriptionFilter: '',\r\n  rangeFilter: null,\r\n};\r\n\r\nexport const reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case ADD_FILTER:\r\n      return {\r\n        ...state,\r\n        filters: [...state.filters, { field: '', operator: '', value: '' }],\r\n      };\r\n    case UPDATE_FILTER:\r\n      return {\r\n        ...state,\r\n        filters: state.filters.map((filter, index) =>\r\n          index === action.payload.filterId ? { ...filter, ...action.payload.values } : filter\r\n        ),\r\n      };\r\n    case DELETE_FILTER:\r\n      return {\r\n        ...state,\r\n        items: initialState.items,\r\n        itemCount: initialState.itemCount,\r\n        filters: state.filters.filter((f, index) => index !== action.payload.filterId),\r\n      };\r\n    case CLEAR_FILTERS:\r\n      return {\r\n        ...state,\r\n        items: initialState.items,\r\n        itemCount: initialState.itemCount,\r\n        filters: initialState.filters,\r\n      };\r\n    case CLEAR_ITEMS:\r\n      return {\r\n        ...state,\r\n        items: initialState.items,\r\n        itemCount: initialState.itemCount,\r\n      };\r\n    case READ_ALL:\r\n      return {\r\n        ...state,\r\n        items: action.payload.items,\r\n        itemCount: action.payload.count,\r\n      };\r\n    case ERROR_FETCH:\r\n      return { ...state, errorMessage: action.payload.message, errorStatus: action.payload.status };\r\n    case CLEAR_ERRORS:\r\n      return { ...state, errorMessage: null, errorStatus: null };\r\n    case CREATE:\r\n    case INPUT_EVENT_TYPES.transactionDetails:\r\n      return { ...state, items: [...state.items, action.payload] };\r\n    case UPDATE:\r\n    case DELETE:\r\n    case SET_DESCRIPTION_FILTER:\r\n      return { ...state, descriptionFilter: action.payload };\r\n    case SET_RANGE_FILTER:\r\n      return { ...state, rangeFilter: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { withTranslation } from 'react-i18next';\r\n\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\nimport keycloakType from 'components/__types__/keycloak';\r\nimport { withKeycloak } from 'auth/KeycloakContext';\r\nimport { AuthenticatedView, UnauthenticatedView } from 'auth/KeycloakViews';\r\nimport ConfirmationDialogTrigger from 'components/common/ConfirmationDialogTrigger';\r\nimport PaginationWrapper from 'components/pagination/PaginationWrapper';\r\nimport { withPaginationContext } from 'components/pagination/PaginationContext';\r\nimport SeedscardtransactionTable from 'components/SeedscardtransactionTable';\r\nimport Notification from 'components/common/Notification';\r\nimport {\r\n  apiSeedscardtransactionsGet,\r\n  apiSeedscardtransactionsDelete,\r\n} from 'api/seedscardtransactions';\r\nimport { reducer, initialState } from 'state/seedscardtransaction.reducer';\r\nimport {\r\n  ADD_FILTER,\r\n  UPDATE_FILTER,\r\n  DELETE_FILTER,\r\n  CLEAR_FILTERS,\r\n  SET_DESCRIPTION_FILTER,\r\n  SET_RANGE_FILTER,\r\n} from 'state/filter.types';\r\nimport {\r\n  DELETE,\r\n  ERROR_FETCH,\r\n  CLEAR_ERRORS,\r\n  READ_ALL,\r\n  CLEAR_ITEMS,\r\n} from 'state/seedscardtransaction.types';\r\nimport {\r\n  getDateFromRange,\r\n  getStartMonthFromDate,\r\n  parseDateToString,\r\n} from 'components/filters/utils';\r\n\r\nconst styles = {\r\n  fab: {\r\n    float: 'right',\r\n  },\r\n  tableWrapper: {\r\n    overflowX: 'auto',\r\n    overflowY: 'hidden',\r\n  },\r\n  tableTitle: {\r\n    textTransform: 'capitalize',\r\n    color: '#0E6837',\r\n    fontSize: '30px',\r\n    fontStyle: 'normal',\r\n    fontWeight: '500',\r\n    margin: 'auto 0',\r\n    height: '50px',\r\n  },\r\n  SearchInput: {\r\n    border: '1px solid #ced4da',\r\n    position: 'absolute',\r\n    width: '25%',\r\n    right: 'calc(100px + 1rem)',\r\n    margin: '10px 0',\r\n    height: '33px',\r\n    fontSize: '14px',\r\n    '@media (max-width: 1024px ) and (min-width: 320px) and (orientation: portrait )': {\r\n      top: '105px',\r\n      width: '63%',\r\n    },\r\n  },\r\n  SearchButton: {\r\n    background: '#C0E570',\r\n    border: 'none',\r\n    color: '#0E6837',\r\n    fontStyle: 'normal',\r\n    fontWeight: '400',\r\n    fontSize: '14px',\r\n    width: '100px',\r\n    textTransform: 'capitalize',\r\n    padding: '.1em',\r\n    height: '33px',\r\n    margin: '10px 1rem',\r\n    position: 'absolute',\r\n    right: '0',\r\n    '@media (max-width: 1024px ) and (min-width: 320px) and (orientation: portrait )': {\r\n      top: '105px',\r\n    },\r\n  },\r\n  tableTitleRow: {\r\n    display: 'flex',\r\n    margin: '1rem 1rem 1rem 0',\r\n    '@media (max-width: 1024px ) and (min-width: 320px) and (orientation: portrait )': {\r\n      flexDirection: 'column',\r\n      height: '200px',\r\n      margin: '1rem 0',\r\n    },\r\n    // '@media (min-width: 320px) and (max-width: 1024px)  and (orientation: landscape )': {\r\n    //   fontSize: '1.5rem',\r\n    // },\r\n  },\r\n  SelectRange: {\r\n    border: 'none',\r\n    borderBottom: '1px solid #c7c7c7',\r\n    height: '33px',\r\n    color: '#c7c7c7',\r\n    margin: 'auto 1rem',\r\n    '&:focus': {\r\n      outline: 'none',\r\n    },\r\n    '& option': {\r\n      '&:hover': {\r\n        background: '#C0E570',\r\n        color: '#0E6837',\r\n      },\r\n    },\r\n  },\r\n};\r\n\r\nclass SeedscardtransactionTableContainer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = initialState;\r\n\r\n    this.handleDelete = this.handleDelete.bind(this);\r\n    this.handleError = this.handleError.bind(this);\r\n    this.closeNotification = this.closeNotification.bind(this);\r\n    this.fetchData = this.fetchData.bind(this);\r\n    this.updateFilter = this.updateFilter.bind(this);\r\n    this.addFilter = this.addFilter.bind(this);\r\n    this.removeFilter = this.removeFilter.bind(this);\r\n    this.clearFilters = this.clearFilters.bind(this);\r\n    this.applyFilters = this.applyFilters.bind(this);\r\n    this.onChangeDescription = this.onChangeDescription.bind(this);\r\n    this.onChangeRangeFilter = this.onChangeRangeFilter.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { keycloak } = this.props;\r\n    const authenticated = keycloak.initialized && keycloak.authenticated;\r\n\r\n    if (authenticated) {\r\n      this.fetchData();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { rangeFilter } = this.state;\r\n    const { keycloak, paginationMode, pagination, detail } = this.props;\r\n    const authenticated = keycloak.initialized && keycloak.authenticated;\r\n\r\n    const changedAuth = prevProps.keycloak.authenticated !== authenticated;\r\n    const changedPagination =\r\n      ['pagination', 'infinite-scroll'].includes(paginationMode) &&\r\n      (prevProps.pagination.currentPage !== pagination.currentPage ||\r\n        prevProps.pagination.itemsPerPage !== pagination.itemsPerPage);\r\n    const changedDetail = prevProps.detail !== detail;\r\n    const rangeFilterChanged =\r\n      JSON.stringify(prevState.rangeFilter) !== JSON.stringify(rangeFilter);\r\n\r\n    if (\r\n      authenticated &&\r\n      (changedAuth || changedPagination || changedDetail || rangeFilterChanged)\r\n    ) {\r\n      this.fetchData();\r\n    }\r\n  }\r\n\r\n  // eslint-disable-next-line react/sort-comp\r\n  dispatch(action, afterSetState = () => {}) {\r\n    this.setState(prevState => reducer(prevState, action), afterSetState);\r\n  }\r\n\r\n  async fetchData() {\r\n    const { items, descriptionFilter, rangeFilter } = this.state;\r\n    const { keycloak, paginationMode, pagination, detail } = this.props;\r\n    const authenticated = keycloak.initialized && keycloak.authenticated;\r\n    const receivedDetail = detail && detail.cardname && detail.accountID;\r\n\r\n    if (authenticated && receivedDetail) {\r\n      try {\r\n        const filters = [\r\n          {\r\n            field: 'accountID',\r\n            operator: 'equals',\r\n            value: detail.accountID.toString(),\r\n          },\r\n        ];\r\n\r\n        if (descriptionFilter) {\r\n          filters.push({\r\n            field: 'description',\r\n            operator: 'contains',\r\n            value: descriptionFilter,\r\n          });\r\n        }\r\n\r\n        if (rangeFilter) {\r\n          filters.push({\r\n            field: 'date',\r\n            operator: 'lessThanOrEqual',\r\n            value: rangeFilter.dateB,\r\n          });\r\n          filters.push({\r\n            field: 'date',\r\n            operator: 'greaterThanOrEqual',\r\n            value: rangeFilter.dateA,\r\n          });\r\n        }\r\n\r\n        const requestParameters = {\r\n          filters,\r\n          ...(paginationMode === ''\r\n            ? {}\r\n            : {\r\n                pagination: {\r\n                  page: pagination.currentPage,\r\n                  rowsPerPage: pagination.itemsPerPage,\r\n                },\r\n              }),\r\n          cardname: detail.cardname,\r\n        };\r\n\r\n        const { seedscardtransactions, headers } = await apiSeedscardtransactionsGet(\r\n          requestParameters\r\n        );\r\n        const seedscardtransactionCount = (headers && headers['X-Total-Count']) || null;\r\n\r\n        this.dispatch({\r\n          type: READ_ALL,\r\n          payload: {\r\n            items:\r\n              paginationMode === 'infinite-scroll'\r\n                ? [...items, ...seedscardtransactions]\r\n                : seedscardtransactions,\r\n            count: seedscardtransactionCount,\r\n          },\r\n        });\r\n      } catch (err) {\r\n        this.handleError(err);\r\n        const seedscardtransactionCount = null;\r\n\r\n        this.dispatch({\r\n          type: READ_ALL,\r\n          payload: {\r\n            items: paginationMode === 'infinite-scroll' ? [...items, ...[]] : [],\r\n            count: seedscardtransactionCount,\r\n          },\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  updateFilter(filterId, values) {\r\n    this.dispatch({ type: UPDATE_FILTER, payload: { values, filterId } });\r\n  }\r\n\r\n  addFilter() {\r\n    this.dispatch({ type: ADD_FILTER });\r\n  }\r\n\r\n  removeFilter(filterId) {\r\n    this.dispatch({ type: DELETE_FILTER, payload: { filterId } }, this.fetchData);\r\n  }\r\n\r\n  clearFilters() {\r\n    this.dispatch({ type: CLEAR_FILTERS }, this.fetchData);\r\n  }\r\n\r\n  applyFilters() {\r\n    this.dispatch({ type: CLEAR_ITEMS }, this.fetchData);\r\n  }\r\n\r\n  closeNotification() {\r\n    this.dispatch({ type: CLEAR_ERRORS });\r\n  }\r\n\r\n  handleError(err) {\r\n    const { onError, t } = this.props;\r\n    onError(err);\r\n    this.dispatch({\r\n      type: ERROR_FETCH,\r\n      payload: {\r\n        message: t('error.dataLoading'),\r\n        status: Notification.ERROR,\r\n      },\r\n    });\r\n  }\r\n\r\n  async handleDelete(item) {\r\n    const { onDelete, keycloak } = this.props;\r\n    const authenticated = keycloak.initialized && keycloak.authenticated;\r\n\r\n    if (authenticated) {\r\n      try {\r\n        await apiSeedscardtransactionsDelete(item.id);\r\n        onDelete(item);\r\n        this.dispatch({ type: DELETE, payload: { id: item.id } });\r\n      } catch (err) {\r\n        this.handleError(err);\r\n      }\r\n    }\r\n  }\r\n\r\n  handleConfirmationDialogAction(action, item) {\r\n    switch (action) {\r\n      case ConfirmationDialogTrigger.CONFIRM: {\r\n        this.handleDelete(item);\r\n        break;\r\n      }\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  onChangeDescription(evt) {\r\n    const { pagination } = this.props;\r\n    pagination.currentPage = 0;\r\n    this.dispatch({ type: SET_DESCRIPTION_FILTER, payload: evt.target.value });\r\n  }\r\n\r\n  onChangeRangeFilter(evt) {\r\n    // const { rangeFilter } = this.state;\r\n    const { pagination } = this.props;\r\n    pagination.currentPage = 0;\r\n    const today = new Date();\r\n\r\n    let dateA = parseDateToString({ date: today });\r\n    const dateB = parseDateToString({ date: today });\r\n\r\n    let range = {\r\n      dateA,\r\n      dateB,\r\n    };\r\n\r\n    switch (evt.target.value) {\r\n      case '90': {\r\n        dateA = getDateFromRange({ d: new Date(), range: 90 });\r\n        range.dateA = dateA;\r\n        break;\r\n      }\r\n      case 'month': {\r\n        dateA = getStartMonthFromDate({ d: new Date() });\r\n        range.dateA = dateA;\r\n        break;\r\n      }\r\n      default: {\r\n        range = null;\r\n      }\r\n    }\r\n\r\n    this.dispatch({ type: SET_RANGE_FILTER, payload: range });\r\n  }\r\n\r\n  render() {\r\n    const { items, itemCount, errorMessage, errorStatus, descriptionFilter } = this.state;\r\n    const { classes, onSelect, t, keycloak, paginationMode = '', detail } = this.props;\r\n\r\n    return (\r\n      <>\r\n        <UnauthenticatedView keycloak={keycloak}>\r\n          {t('common.notAuthenticated')}\r\n        </UnauthenticatedView>\r\n        <AuthenticatedView keycloak={keycloak}>\r\n          <PaginationWrapper items={items} paginationMode={paginationMode} itemCount={itemCount}>\r\n            <div className={classes.tableTitleRow}>\r\n              <span className={classes.tableTitle}>{detail.cardname} Transactions</span>\r\n              <select\r\n                name=\"transactionRange\"\r\n                id=\"transactionRange\"\r\n                className={classes.SelectRange}\r\n                onChange={this.onChangeRangeFilter}\r\n              >\r\n                <option value=\"all\">All transactions</option>\r\n                <option value=\"month\">Last month</option>\r\n                <option value=\"90\">Last 90 days</option>\r\n              </select>\r\n              <input\r\n                className={classes.SearchInput}\r\n                type=\"text\"\r\n                onChange={this.onChangeDescription}\r\n                value={descriptionFilter}\r\n              />\r\n              <button className={classes.SearchButton} type=\"button\" onClick={this.fetchData}>\r\n                Filter\r\n              </button>\r\n            </div>\r\n            <div className={classes.tableWrapper}>\r\n              <SeedscardtransactionTable items={items} onSelect={onSelect} />\r\n            </div>\r\n          </PaginationWrapper>\r\n        </AuthenticatedView>\r\n        <Notification\r\n          status={errorStatus}\r\n          message={errorMessage}\r\n          onClose={this.closeNotification}\r\n        />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nSeedscardtransactionTableContainer.propTypes = {\r\n  classes: PropTypes.shape({\r\n    fab: PropTypes.string,\r\n    tableWrapper: PropTypes.string,\r\n    tableTitle: PropTypes.string,\r\n    SearchInput: PropTypes.string,\r\n    tableTitleRow: PropTypes.string,\r\n    SearchButton: PropTypes.string,\r\n    SelectRange: PropTypes.string,\r\n  }).isRequired,\r\n  onError: PropTypes.func,\r\n  onSelect: PropTypes.func,\r\n  onDelete: PropTypes.func,\r\n  t: PropTypes.func.isRequired,\r\n  keycloak: keycloakType.isRequired,\r\n  paginationMode: PropTypes.string,\r\n  pagination: PropTypes.shape({\r\n    currentPage: PropTypes.number,\r\n    itemsPerPage: PropTypes.number,\r\n  }),\r\n  detail: PropTypes.shape({\r\n    cardname: PropTypes.string,\r\n    accountID: PropTypes.string,\r\n  }),\r\n};\r\n\r\nSeedscardtransactionTableContainer.defaultProps = {\r\n  onDelete: () => {},\r\n  onError: () => {},\r\n  onSelect: () => {},\r\n  paginationMode: '',\r\n  pagination: null,\r\n  detail: {\r\n    cardname: '',\r\n    accountID: '',\r\n  },\r\n};\r\n\r\nexport default withKeycloak(\r\n  withStyles(styles)(\r\n    withTranslation(undefined, { withRef: true })(\r\n      withPaginationContext(SeedscardtransactionTableContainer)\r\n    )\r\n  )\r\n);\r\n","import en from 'i18n/locales/en.json';\r\n\r\nexport default {\r\n  en,\r\n};\r\n","import i18next from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\n\r\nimport locales from 'i18n/locales';\r\n\r\nconst defaultNs = 'translation';\r\n\r\n// adds the default namespace ('translation') to resources object per i18next documentation\r\nconst resources = Object.keys(locales).reduce(\r\n  (acc, lang) => ({ ...acc, [lang]: { [defaultNs]: locales[lang] } }),\r\n  {}\r\n);\r\n\r\nexport const translateFn = i18next.t;\r\n\r\nexport const setI18nextLocale = (locale, defaultLocale) => {\r\n  i18next.use(initReactI18next).init({\r\n    defaultNs,\r\n    interpolation: {\r\n      escapeValue: false,\r\n    },\r\n    resources,\r\n    lng: locale || defaultLocale,\r\n    fallbackLng: defaultLocale,\r\n    react: { useSuspense: false },\r\n  });\r\n};\r\n","import { DEFAULT_LOCALE } from 'i18n/constants';\r\nimport { setI18nextLocale } from 'i18n/i18next';\r\n\r\nexport default locale => {\r\n  setI18nextLocale(locale, DEFAULT_LOCALE);\r\n};\r\n","/* eslint-disable-next-line import/prefer-default-export */\r\nexport const DEFAULT_LOCALE = 'en';\r\n","export const publishWidgetEvent = (eventId, payload) => {\r\n  const widgetEvent = new CustomEvent(eventId, {\r\n    detail: {\r\n      payload,\r\n    },\r\n  });\r\n  window.dispatchEvent(widgetEvent);\r\n};\r\n\r\nexport const createWidgetEventPublisher = eventType => payload =>\r\n  publishWidgetEvent(eventType, payload);\r\n\r\nexport const subscribeToWidgetEvent = (eventType, eventHandler) => {\r\n  window.addEventListener(eventType, eventHandler);\r\n\r\n  return () => {\r\n    window.removeEventListener(eventType, eventHandler);\r\n  };\r\n};\r\n\r\nexport const subscribeToWidgetEvents = (widgetEvents, eventHandler) => {\r\n  widgetEvents.forEach(eventType => window.addEventListener(eventType, eventHandler));\r\n\r\n  return () => {\r\n    widgetEvents.forEach(eventType => window.removeEventListener(eventType, eventHandler));\r\n  };\r\n};\r\n\r\nexport const widgetEventToFSA = widgetEvent => {\r\n  // for info about Flux Standard Action (FSA) see https://github.com/redux-utilities/flux-standard-action\r\n  const {\r\n    type,\r\n    detail: { payload, error, meta },\r\n  } = widgetEvent;\r\n  return { type, payload, error, meta };\r\n};\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport retargetEvents from 'react-shadow-dom-retarget-events';\r\n\r\nimport { StylesProvider, jssPreset, createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\r\nimport { create } from 'jss';\r\n\r\nimport { KeycloakContext } from 'auth/KeycloakContext';\r\nimport { PaginationProvider } from 'components/pagination/PaginationContext';\r\nimport SeedscardtransactionTableContainer from 'components/SeedscardtransactionTableContainer';\r\nimport setLocale from 'i18n/setLocale';\r\nimport {\r\n  createWidgetEventPublisher,\r\n  subscribeToWidgetEvents,\r\n  subscribeToWidgetEvent,\r\n  widgetEventToFSA,\r\n} from 'helpers/widgetEvents';\r\nimport {\r\n  INPUT_EVENT_TYPES,\r\n  OUTPUT_EVENT_TYPES,\r\n  KEYCLOAK_EVENT_TYPE,\r\n} from 'custom-elements/widgetEventTypes';\r\n\r\nconst getKeycloakInstance = () =>\r\n  (window &&\r\n    window.entando &&\r\n    window.entando.keycloak && { ...window.entando.keycloak, initialized: true }) || {\r\n    initialized: false,\r\n  };\r\n\r\nconst ATTRIBUTES = {\r\n  hidden: 'hidden',\r\n  locale: 'locale',\r\n  paginationMode: 'pagination-mode',\r\n  disableDefaultEventHandler: 'disable-default-event-handler', // custom element attribute names MUST be written in kebab-case\r\n};\r\n\r\nclass SeedscardtransactionTableElement extends HTMLElement {\r\n  muiTheme;\r\n\r\n  jss;\r\n\r\n  container;\r\n\r\n  mountPoint;\r\n\r\n  unsubscribeFromWidgetEvents;\r\n\r\n  unsubscribeFromKeycloakEvent;\r\n\r\n  keycloak = getKeycloakInstance();\r\n\r\n  onAdd = createWidgetEventPublisher(OUTPUT_EVENT_TYPES.add);\r\n\r\n  onError = createWidgetEventPublisher(OUTPUT_EVENT_TYPES.error);\r\n\r\n  onSelect = createWidgetEventPublisher(OUTPUT_EVENT_TYPES.select);\r\n\r\n  onDelete = createWidgetEventPublisher(OUTPUT_EVENT_TYPES.delete);\r\n\r\n  transactionDetail = subscribeToWidgetEvent(INPUT_EVENT_TYPES.transactionDetails, evt => {\r\n    this.onTransactionDetail({\r\n      cardname: evt.detail.payload.cardname,\r\n      accountID: evt.detail.payload.accountID,\r\n    });\r\n  });\r\n\r\n  onTransactionDetail(detail) {\r\n    this.detail = detail;\r\n    this.render();\r\n  }\r\n\r\n  reactRootRef = React.createRef();\r\n\r\n  static get observedAttributes() {\r\n    return Object.values(ATTRIBUTES);\r\n  }\r\n\r\n  attributeChangedCallback(name, oldValue, newValue) {\r\n    if (!this.container || oldValue === newValue) {\r\n      return;\r\n    }\r\n    if (!Object.values(ATTRIBUTES).includes(name)) {\r\n      throw new Error(`Untracked changed attribute: ${name}`);\r\n    }\r\n    this.render();\r\n  }\r\n\r\n  connectedCallback() {\r\n    this.container = document.createElement('div');\r\n    this.mountPoint = document.createElement('div');\r\n    this.container.appendChild(this.mountPoint);\r\n\r\n    const shadowRoot = this.attachShadow({ mode: 'open' });\r\n    shadowRoot.appendChild(this.container);\r\n\r\n    this.jss = create({\r\n      ...jssPreset(),\r\n      insertionPoint: this.container,\r\n    });\r\n\r\n    this.muiTheme = createMuiTheme({\r\n      props: {\r\n        MuiDialog: {\r\n          container: this.mountPoint,\r\n        },\r\n      },\r\n    });\r\n\r\n    this.keycloak = { ...getKeycloakInstance(), initialized: true };\r\n\r\n    this.unsubscribeFromKeycloakEvent = subscribeToWidgetEvent(KEYCLOAK_EVENT_TYPE, () => {\r\n      this.keycloak = { ...getKeycloakInstance(), initialized: true };\r\n      this.render();\r\n    });\r\n\r\n    this.render();\r\n\r\n    retargetEvents(shadowRoot);\r\n  }\r\n\r\n  disconnectedCallback() {\r\n    if (this.unsubscribeFromWidgetEvents) {\r\n      this.unsubscribeFromWidgetEvents();\r\n    }\r\n    if (this.unsubscribeFromKeycloakEvent) {\r\n      this.unsubscribeFromKeycloakEvent();\r\n    }\r\n  }\r\n\r\n  defaultWidgetEventHandler() {\r\n    return evt => {\r\n      const action = widgetEventToFSA(evt);\r\n      // eslint-disable-next-line no-unused-expressions\r\n      this.reactRootRef.current && this.reactRootRef.current.dispatch(action);\r\n    };\r\n  }\r\n\r\n  render() {\r\n    const hidden = this.getAttribute(ATTRIBUTES.hidden) === 'true';\r\n    if (hidden) {\r\n      return;\r\n    }\r\n\r\n    const locale = this.getAttribute(ATTRIBUTES.locale);\r\n    setLocale(locale);\r\n\r\n    const paginationMode = this.getAttribute(ATTRIBUTES.paginationMode) || '';\r\n\r\n    const disableEventHandler = this.getAttribute(ATTRIBUTES.disableDefaultEventHandler) === 'true';\r\n    if (!disableEventHandler) {\r\n      const defaultWidgetEventHandler = this.defaultWidgetEventHandler();\r\n\r\n      this.unsubscribeFromWidgetEvents = subscribeToWidgetEvents(\r\n        Object.values(INPUT_EVENT_TYPES),\r\n        defaultWidgetEventHandler\r\n      );\r\n    } else {\r\n      if (this.unsubscribeFromWidgetEvents) {\r\n        this.unsubscribeFromWidgetEvents();\r\n      }\r\n      if (this.unsubscribeFromKeycloakEvent) {\r\n        this.unsubscribeFromKeycloakEvent();\r\n      }\r\n    }\r\n\r\n    ReactDOM.render(\r\n      <KeycloakContext.Provider value={this.keycloak}>\r\n        <StylesProvider jss={this.jss}>\r\n          <ThemeProvider theme={this.muiTheme}>\r\n            <PaginationProvider paginationMode={paginationMode}>\r\n              <SeedscardtransactionTableContainer\r\n                ref={this.reactRootRef}\r\n                detail={this.detail}\r\n                onAdd={this.onAdd}\r\n                onDelete={this.onDelete}\r\n                onSelect={this.onSelect}\r\n                onError={this.onError}\r\n                paginationMode={paginationMode}\r\n              />\r\n            </PaginationProvider>\r\n          </ThemeProvider>\r\n        </StylesProvider>\r\n      </KeycloakContext.Provider>,\r\n      this.mountPoint\r\n    );\r\n  }\r\n}\r\nif (!customElements.get('sd-seeds-card-transaction-table')) {\r\n  customElements.define('sd-seeds-card-transaction-table', SeedscardtransactionTableElement);\r\n}\r\n"],"sourceRoot":""}